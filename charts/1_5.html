<h5 class="card-title">Chart 4</h5>
<p>
  In this dumbell chart is possible to see the life expectancy gap across male and female at various ages. The green end represents the male LE, while the pink one represents the female one.
</p>

<!-- Include d3 library -->                                     
<script src="https://d3js.org/d3.v7.min.js"></script>


<div id="container_5"></div>

<script>

    // set the dimensions and margins of the graph
    const margin5 = {top: 10, right: 30, bottom: 30, left: 50},
        width5 = 460 - margin5.left - margin5.right,
        height5 = 500 - margin5.top - margin5.bottom;
    
    // append the svg object to the body of the page
    const svg5 = d3.select("#container_5")
      .append("svg")
      .attr("width", "100%")
    .attr("height", "80%")
    .attr("viewBox", "0 0 450 550")
    .attr("preserveAspectRatio", "xMinYMin")
                      .append("g")
                        .attr("transform", `translate(${margin5.left}, ${margin5.top})`);
    
    // Parse the Data
    //d3.csv("https://raw.githubusercontent.com/holtzy/D3-graph-gallery/master/DATA/data_cleveland.csv").then( function(data) {
      d3.csv("https://raw.githubusercontent.com/guidovalla/DV_project/main/data/1_5.csv").then( function(data) {
        
      console.log(data)
      // Add X axis
      const x = d3.scaleLinear()
        .domain([70, 105])
        .range([ 0, width5]);
      svg5.append("g")
        .attr("transform", `translate(0, ${height5})`)
        .call(d3.axisBottom(x))
    
      // Y axis
      const y = d3.scaleBand()
        .range([ 0, height5])
        .domain(data.map(function(d) { return d.Age; }))
        .padding(1);
      svg5.append("g")
        .call(d3.axisLeft(y))
    
      // Lines
      svg5.selectAll("myline")
        .data(data)
        .join("line")
          .attr("x1", function(d) { return x(d.Male); })
          .attr("x2", function(d) { return x(d.Female); })
          .attr("y1", function(d) { return y(d.Age); })
          .attr("y2", function(d) { return y(d.Age); })
          .attr("stroke", "grey")
          .attr("stroke-width", "1px")
    
      // Circles of variable 1
      svg5.selectAll("mycircle")
        .data(data)
        .join("circle")
          .attr("cx", function(d) { return x(d.Male); })
          .attr("cy", function(d) { return y(d.Age); })
          .attr("r", "6")
          .style("fill", "#69b3a2")
    
      // Circles of variable 2
      svg5.selectAll("mycircle")
        .data(data)
        .join("circle")
          .attr("cx", function(d) { return x(d.Female); })
          .attr("cy", function(d) { return y(d.Age); })
          .attr("r", "6")
          .style("fill", "#C8959A")
    })

</script>